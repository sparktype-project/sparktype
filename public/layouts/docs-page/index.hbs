{{! layouts/docs-page/index.hbs }}

{{#if contentFile.frontmatter.banner_image}}
    <div class="">
        {{{image fieldname="banner_image" class="w-full h-72 cover bg-center" alt=contentFile.frontmatter.title}}}
    </div>
{{/if}}

{{! Check if TOC should be shown (hide only when explicitly set to false) }}
{{#if (eq contentFile.frontmatter.showToc false)}}
    {{! Single column layout without TOC }}
    <article class="max-w-4xl mx-auto px-4 py-8 lg:px-8">
        <h1>{{contentFile.frontmatter.title}}</h1>
        <p class="text-xl">{{contentFile.frontmatter.description}}</p>

        {{#if contentFile.frontmatter.featured_image}}
            <div class="mb-6">
                {{{image fieldname="featured_image" class="w-full" alt=contentFile.frontmatter.title}}}
            </div>
        {{/if}}

        {{{content}}}

        {{#if contentFile.frontmatter.layoutConfig}}
            <hr/>
            {{{render_collection contentFile.frontmatter.layoutConfig}}}
        {{/if}}
    </article>
{{else}}
    {{! Two-column layout with TOC (default) }}
    <div class="flex flex-col lg:grid lg:grid-cols-[1fr_240px] lg:gap-8 max-w-7xl mx-auto px-4 lg:px-8">
        <article class="py-8 max-w-4xl">
            <h1>{{contentFile.frontmatter.title}}</h1>
            <p class="text-xl">{{contentFile.frontmatter.description}}</p>

            {{#if contentFile.frontmatter.featured_image}}
                <div class="mb-6">
                    {{{image fieldname="featured_image" class="w-full" alt=contentFile.frontmatter.title}}}
                </div>
            {{/if}}

            {{{content}}}

            {{#if contentFile.frontmatter.layoutConfig}}
                <hr/>
                {{{render_collection contentFile.frontmatter.layoutConfig}}}
            {{/if}}
        </article>

        {{! Table of Contents }}
        <div class="hidden lg:block">
            {{> toc content=content}}
        </div>
    </div>
{{/if}}