{{! 
  Template for a single blog post using SparkType Design System utilities.
  It receives the full `pageContext` object, which includes `contentFile`.
}}
<article class="container max-w-4xl mx-auto px-4 py-8 lg:px-8">
    

    {{! Post Header: Title and Metadata }}
    <header class="mb-6 mt-12">
        <h1 class="text-4xl lg:text-5xl font-bold text-heading mb-4 leading-tight">
            {{contentFile.frontmatter.title}}
        </h1>
        
        <p class="text-2xl font-headings mb-4">{{contentFile.frontmatter.description}} </p>

        <div class="flex flex-wrap items-center gap-2 text-sm text-gray-500">
            {{#if contentFile.frontmatter.date}}
                <time datetime="{{contentFile.frontmatter.date}}" class="font-headings">
                    Published on {{formatDate contentFile.frontmatter.date}}
                </time>
            {{/if}}
            
            {{#if contentFile.frontmatter.author}}
                {{#if contentFile.frontmatter.date}}
                    <span class="text-border">â€¢</span>
                {{/if}}
                <span class="font-headings">By {{contentFile.frontmatter.author}}</span>
            {{/if}}
        </div>

    </header>

    {{! Display the featured image if one is set in the frontmatter }}
    {{#if contentFile.frontmatter.featured_image}}
        <div class="mb-8">
            {{{image
                fieldname="featured_image"
                preset="full"
                class="w-full"
                alt="Featured image"
            }}}
        </div>
    {{/if}}

    {{! The main content of the post, rendered from Markdown or Blocks }}
    <section class="max-w-none prose prose-lg">
        {{#if blocks}}
            {{{render_blocks blocks}}}
        {{else}}
            {{{markdown contentFile.content}}}
        {{/if}}
    </section>

    {{! Display tags at the bottom of the post }}
    {{#if resolvedTags}}
        <footer class="mt-12 pt-8 border-t border-gray-200">
            <div class="flex flex-wrap gap-2">
                {{#each resolvedTags}}
                    {{#each this}}
                        <span class="inline-flex items-center px-3 py-1 text-sm font-headings bg-slate-100 text-text rounded-full hover:bg-muted/80 transition-colors">
                            {{this.name}}
                        </span>
                    {{/each}}
                {{/each}}
            </div>
        </footer>
    {{/if}}
</article>